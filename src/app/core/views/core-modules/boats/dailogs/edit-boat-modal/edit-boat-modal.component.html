<!-- Close Modal Icon -->
<div class="d-flex justify-content-end">
    <svg-icon src="/assets/icons/close-modal-icon.svg" class="close-dialog-svg" (click)="closeDialog()"></svg-icon>
</div>

<!-- Upload Image -->
<div class="import-img-background">
    <svg-icon src="/assets/icons/add-photo.svg" (click)="addPhoto.click()" class="svg"></svg-icon>
    <input type="file" class="file-input" (change)="readImage($event);" accept=".jpg, .png" name="image" #addPhoto>
    <img *ngIf="!imageURL" src="/assets/images/entypo_image-inverted.png" alt="" class="img-frame">
    <img *ngIf="imageURL && imageURL !== ''" [src]="imageURL" alt="" class="uploaded-img">
</div>

<!-- Form -->
<div class="row m-0 py-4 px-lg-5">
    <div class="col-12">
        <h1 mat-dialog-title class="ps-2">Edit Boat</h1>
    </div>

    <div class="">
        <form [formGroup]="boatForm" (ngSubmit)="onSubmitUpdateBoat()">
            <div class="row">
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Boat Name</mat-label>
                        <input matInput formControlName="name" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('name')?.errors && (boatForm.get('name')?.touched || boatForm.get('name')?.dirty)">
                            <span *ngIf="boatForm.get('name')?.errors?.['required']">Boat Name is required</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Width</mat-label>
                        <input matInput formControlName="width" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('width')?.errors && (boatForm.get('width')?.touched || boatForm.get('width')?.dirty)">
                            <span *ngIf="boatForm.get('width')?.errors?.['required']">Boat Width is required</span>
                            <span *ngIf="boatForm.get('width')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Reference Number</mat-label>
                        <input matInput formControlName="referenceNumber" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('referenceNumber')?.errors && (boatForm.get('referenceNumber')?.touched || boatForm.get('referenceNumber')?.dirty)">
                          <span *ngIf="boatForm.get('referenceNumber')?.errors?.['required']">Reference Number is required</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Length</mat-label>
                        <input matInput formControlName="length" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('length')?.errors && (boatForm.get('length')?.touched || boatForm.get('length')?.dirty)">
                          <span *ngIf="boatForm.get('length')?.errors?.['required']">Height is required</span>
                            <span *ngIf="boatForm.get('length')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Manufacturer Year</mat-label>
                        <input matInput formControlName="yearOfBuilt" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('yearOfBuilt')?.errors && (boatForm.get('yearOfBuilt')?.touched || boatForm.get('yearOfBuilt')?.dirty)">
                          <span *ngIf="boatForm.get('yearOfBuilt')?.errors?.['required']">Manufacturer year is required</span>
                            <span *ngIf="boatForm.get('yearOfBuilt')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Tonnage</mat-label>
                        <input matInput formControlName="tonnage" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('tonnage')?.errors && (boatForm.get('tonnage')?.touched || boatForm.get('tonnage')?.dirty)">
                          <span *ngIf="boatForm.get('tonnage')?.errors?.['required']">Tonnage is required</span>
                            <span *ngIf="boatForm.get('tonnage')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Passenger Capacity</mat-label>
                        <input matInput formControlName="capacity" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('capacity')?.errors && (boatForm.get('capacity')?.touched || boatForm.get('capacity')?.dirty)">
                          <span *ngIf="boatForm.get('capacity')?.errors?.['required']">Passanger capacity is required</span>
                            <span *ngIf="boatForm.get('capacity')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Boat Speed</mat-label>
                        <input matInput formControlName="speed" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('speed')?.errors && (boatForm.get('speed')?.touched || boatForm.get('speed')?.dirty)">
                          <span *ngIf="boatForm.get('speed')?.errors?.['required']">Boat speed is required</span>
                            <span *ngIf="boatForm.get('speed')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Boat Draft</mat-label>
                        <input matInput formControlName="draft" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('draft')?.errors && (boatForm.get('draft')?.touched || boatForm.get('draft')?.dirty)">
                          <span *ngIf="boatForm.get('draft')?.errors?.['required']">Boat speed is required</span>
                            <span *ngIf="boatForm.get('draft')?.errors?.['pattern']">Accept Number Only.</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Boat Type</mat-label>
                        <input matInput formControlName="type" required />
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('type')?.errors && (boatForm.get('type')?.touched || boatForm.get('type')?.dirty)">
                          <span *ngIf="boatForm.get('type')?.errors?.['required']">Boat type is required</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-12">
                    <mat-form-field appearance="standard" style="width: 100%;">
                        <mat-label>Boat Description</mat-label>
                        <textarea matInput rows="3" formControlName="description" required></textarea>
                        <mat-error>
                            <span class="text-danger" *ngIf="boatForm.get('description')?.errors && (boatForm.get('description')?.touched || boatForm.get('description')?.dirty)">
                          <span *ngIf="boatForm.get('description')?.errors?.['required']">Boat Description is required</span>
                            </span>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>

            <div class=" row d-flex justify-content-center mt-4 mb-4">
                <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                    <button mat-flat-button type="submit" [disabled]="!boatForm.valid">
                      <span class="fw-normal">Update Boat</span><mat-spinner *ngIf="loading" class="mat-progress-spinner" style="margin-left: 7px;"></mat-spinner>
                    </button>
                </div>
            </div>
        </form>


    </div>
</div>